
杀之后的编号为【后号】，杀之前的编号成为【前号】，如果存在一个公式 $前号 = f(后号)$, 那么就可以根据杀之后的编号推算出杀之前的编号，如果存在这样的函数，就可以推算出上一步存活的编号，然后一直往上调用，就可以得到初始答案的结果。

假设有4个节点，a, b ,c d。  
每个节点依次报数，1，2,3,4,5,6,7,8，。。。

| 报数 | 编号 |
| ---- | ---- |
| 1    | 1    |
| 2    | 2    |
| 3    | 3    |
| 4    | 4    |
| 5    | 1    |
| 6    | 2    |
| 7    | 3    |
| 8    | 4    |
| 9    | 1    |
| 10   | 2    |
| 11   | 3    |
| 12   | 4    |
| 13   | 1    |
| 14   | 2    |


那么有对应关系：$y = ((x-1)\%i) + 1$， 通过 $y = (x\% i)$变换得到

推导过程如下图所示：
![](https://pic.zaqbest.com/i/2022/05/24/628c4988e612f.png)


前号：1 2 3 4 5 6 7
后号：5 6 x 1 2 3 4
m = 10

如何通过【后号】推导出【前号】
![](https://pic.zaqbest.com/i/2022/05/24/628c4f2a278a9.png)

![](https://pic.zaqbest.com/i/2022/05/24/628c4fdfe1387.png)

图像对应的公式为$$y = ((x-1+s)\%i) + 1$$, 相当于向左移动了s个单位。（左加右减，上加下减）

s是如何计算的呢 $$s = (m-1)\%i + 1$$

带入上一个公式得到
$$前号 = (后号+(m-1)\%i)\%i+1$$

可以再次化简，得到公式
$$前号 = (后号+m-1)\%i)+1$$
